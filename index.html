 <!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dev Music Player</title>
<link rel="stylesheet" href="style.css">
</head>

<body>

<div class="card">
  <h1>ðŸŽµ Dev Music Player</h1>

  <div id="songTitle">No song playing</div>

  <input type="text" id="link" placeholder="Paste YouTube Link">
  <button id="playBtn">â–¶ Play</button>

  <div id="player"></div>
</div>

<script src="https://www.youtube.com/iframe_api"></script>

<script>
let player;
let ready = false;
let titleInterval;

function onYouTubeIframeAPIReady() {
  player = new YT.Player('player', {
    height: '250',
    width: '100%',
    events: {
      'onReady': function() {
        ready = true;
      },
      'onStateChange': onPlayerStateChange
    }
  });
}

function onPlayerStateChange(event) {
  if (event.data == YT.PlayerState.PLAYING) {
    clearInterval(titleInterval);

    titleInterval = setInterval(() => {
      try {
        let title = player.getVideoData().title;
        if (title) {
          document.getElementById("songTitle").innerText = title;
        }
      } catch(e) {}
    }, 1000);
  }
}

document.getElementById("playBtn").addEventListener("click", function() {

  if (!ready) {
    alert("Player loading... wait 5 seconds");
    return;
  }

  let url = document.getElementById("link").value.trim();

  if (url.includes("list=")) {
    let playlistId = url.split("list=")[1].split("&")[0];
    player.loadPlaylist(playlistId);
  } 
  else if (url.includes("youtu.be/")) {
    let videoId = url.split("youtu.be/")[1].split("?")[0];
    player.loadVideoById(videoId);
  } 
  else if (url.includes("watch?v=")) {
    let videoId = url.split("v=")[1].split("&")[0];
    player.loadVideoById(videoId);
  } 
  else {
    alert("Invalid YouTube Link");
  }

});
</script>

</body>
</html>