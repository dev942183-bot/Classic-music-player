 <!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dev YouTube Music Player Blue</title>
<style>
body{margin:0;font-family:Arial,sans-serif;background:#1E90FF;color:white;text-align:center;}
header{padding:15px;font-size:24px;font-weight:bold;background:#0b65c2;}
.nav{display:flex;justify-content:space-between;background:#0b65c2;padding:10px;}
.nav button{padding:8px 15px;border:none;border-radius:12px;background:#1565C0;color:white;cursor:pointer;}
.nav button:hover{background:#1C7ED6;}
.card{padding:15px;}
#songTitle{margin:10px;font-weight:600;font-size:18px;}
#player{margin-top:10px;width:100%;height:250px;}
.videoCard{background:#1565C0;margin:10px 0;padding:10px;border-radius:12px;cursor:pointer;transition:.3s;}
.videoCard:hover{background:#1C7ED6;}
.videoCard img{width:100%;border-radius:8px;}
.bottomBar{position:fixed;bottom:0;width:100%;background:#0b65c2;display:flex;justify-content:space-around;padding:12px;}
.bottomBar button{background:none;border:none;color:white;font-size:24px;cursor:pointer;}
#searchSection,#historySection{display:none;}
</style>
</head>
<body>

<header>üéµ Dev YouTube Player Blue</header>

<div class="nav">
  <button onclick="goBack()">üîô Back</button>
  <button onclick="showHistory()">History</button>
</div>

<div class="card" id="homeSection">
  <div id="songTitle">No song playing</div>
  <div id="player"></div>
</div>

<div class="card" id="searchSection">
  <input type="text" id="searchInput" placeholder="Search YouTube..." style="width:80%;padding:8px;border-radius:12px;border:none;">
  <button onclick="searchVideo()">Search</button>
  <div id="searchResults"></div>
</div>

<div class="card" id="historySection">
  <h3>History</h3>
  <ul id="historyList"></ul>
</div>

<div class="bottomBar">
  <button onclick="prevVideo()">‚èÆ</button>
  <button onclick="togglePlay()">‚èØ</button>
  <button onclick="nextVideo()">‚è≠</button>
</div>

<script src="https://www.youtube.com/iframe_api"></script>
<script>
let player, ready=false;

function onYouTubeIframeAPIReady(){
  player = new YT.Player('player',{
    height:'250',
    width:'100%',
    playerVars:{rel:0,modestbranding:1,volume:100},
    events:{
      'onReady':()=>{ready=true;player.setVolume(100);},
      'onStateChange':onPlayerStateChange
    }
  });
}

function onPlayerStateChange(event){
  if(event.data == YT.PlayerState.PLAYING){
    document.getElementById("songTitle").innerText = player.getVideoData().title;
    updateMediaSession(player.getVideoData().title);
    saveHistory(player.getVideoData().title);
  }
}

function nextVideo(){if(ready) player.nextVideo();}
function prevVideo(){if(ready) player.previousVideo();}
function togglePlay(){
  if(!ready) return; 
  let state=player.getPlayerState(); 
  state==1?player.pauseVideo():player.playVideo();
}

// MediaSession metadata
function updateMediaSession(title){
  if('mediaSession' in navigator){
    navigator.mediaSession.metadata = new MediaMetadata({
      title:title,
      artist:'YouTube',
      artwork:[{src:'https://i.imgur.com/8Km9tLL.png',sizes:'512x512',type:'image/png'}]
    });
    navigator.mediaSession.setActionHandler('play',()=>player.playVideo());
    navigator.mediaSession.setActionHandler('pause',()=>player.pauseVideo());
    navigator.mediaSession.setActionHandler('nexttrack',()=>player.nextVideo());
    navigator.mediaSession.setActionHandler('previoustrack',()=>player.previousVideo());
  }
}

// Search YouTube
const API_KEY = "AIzaSyAfJIHop06R94612CGPmMiTByy5hUarL1M";
function searchVideo(){
  let q = document.getElementById("searchInput").value;
  if(!q) return;
  fetch(`https://www.googleapis.com/youtube/v3/search?part=snippet&type=video&maxResults=6&q=${q}&key=${API_KEY}`)
  .then(res=>res.json()).then(data=>{
    let results = document.getElementById("searchResults");
    results.innerHTML="";
    data.items.forEach(item=>{
      let id=item.id.videoId,title=item.snippet.title,thumb=item.snippet.thumbnails.medium.url;
      let div=document.createElement("div");
      div.className="videoCard";
      div.innerHTML=`<img src="${thumb}"><p>${title}</p>`;
      div.onclick=()=>{player.loadVideoById(id);showHome();}
      results.appendChild(div);
    });
  });
}

// History
function saveHistory(title){
  let h=JSON.parse(localStorage.getItem("ytHistory")||"[]");
  if(h[0]!==title){h.unshift(title);}
  localStorage.setItem("ytHistory",JSON.stringify(h.slice(0,20)));
}
function showHistory(){
  hideAll();
  historySection.style.display="block";
  let h=JSON.parse(localStorage.getItem("ytHistory")||"[]");
  historyList.innerHTML="";
  h.forEach(t=>{
    let li=document.createElement("li");
    li.textContent=t;
    li.onclick=()=>alert("Play from YouTube app");
    historyList.appendChild(li);
  });
}

// Navigation
function hideAll(){homeSection.style.display="none";searchSection.style.display="none";historySection.style.display="none";}
function showHome(){hideAll();homeSection.style.display="block";}
function goBack(){showHome();}
</script>

<div style="margin:20px;">
  <input type="text" id="searchInputBottom" placeholder="Search YouTube..." style="width:80%;padding:8px;border-radius:12px;border:none;">
  <button onclick="searchVideo()">Search</button>
</div>

</body>
</html>