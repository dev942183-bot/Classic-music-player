<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dev Music Player</title>
<link rel="stylesheet" href="style.css">
</head>

<body>

<h2>Dev Music Player ðŸŽµ</h2>

<input type="text" id="link" placeholder="Paste YouTube Link">
<button id="playBtn">Play</button>

<br><br>
<div id="player"></div>

<script src="https://www.youtube.com/iframe_api"></script>

<script>
let player;
let ready = false;

function onYouTubeIframeAPIReady() {
  player = new YT.Player('player', {
    height: '300',
    width: '100%',
    events: {
      'onReady': function() {
        ready = true;
      }
    }
  });
}

document.getElementById("playBtn").addEventListener("click", function() {

  if (!ready) {
    alert("Player loading... wait 5 seconds then try again");
    return;
  }

  let url = document.getElementById("link").value.trim();

  if (url.includes("list=")) {
    let playlistId = url.split("list=")[1].split("&")[0];
    player.loadPlaylist(playlistId);
  } 
  else if (url.includes("youtu.be/")) {
    let videoId = url.split("youtu.be/")[1].split("?")[0];
    player.loadVideoById(videoId);
  } 
  else if (url.includes("watch?v=")) {
    let videoId = url.split("v=")[1].split("&")[0];
    player.loadVideoById(videoId);
  } 
  else {
    alert("Invalid YouTube Link");
  }

});
</script>

</body>
</html>
